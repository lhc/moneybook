{% extends "core/base.html" %}

{% load currency %}

{% block content %}
  <!-- Begin Page Content -->
  <div class="container-fluid">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
      <h1 class="h3 mb-0 text-gray-800">
        {{ cash_book.name }}
      </h1>
    </div>
    <!-- Content Row -->
    <div class="row">
      <table class="table table-striped table-hover table-sm">
        <thead>
          <tr>
            <th>
              #
            </th>
            <th>
              Date
            </th>
            <th>
              Amount
            </th>
            <th>
              Description
            </th>
            <th>
              Category
            </th>
            <th>
              Balance
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="5">
            </td>
            <td>
              {{ initial_balance|money }}
            </td>
          </tr>
          {% for transaction in transactions %}
            <tr>
              <td>
                {{ transaction.reference }}
              </td>
              <td>
                {{ transaction.date }}
              </td>
              <td {% if transaction.amount < 0 %}class="text-danger"{% endif %}>
                {{ transaction.amount|money }}
              </td>
              <td>
                {{ transaction.description }}
              </td>
              <td>
                {{ transaction.category__name }}
              </td>
              <td {% if transaction.balance < 0 %}class="text-danger"{% endif %}>
                {{ transaction.cumulative_sum|money }}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <!-- /.container-fluid -->
{% endblock content %}
